package lv.cebbys.mcmods.celib.dataloader.factories.resource;

import com.google.gson.JsonObject;
import lv.cebbys.mcmods.celib.dataloader.resources.CelibResource;
import lv.cebbys.mcmods.celib.dataloader.resources.JsonObjectResource;

import java.io.ByteArrayInputStream;
import java.io.InputStream;
import java.nio.charset.StandardCharsets;

public class PackMcmetaFactory implements CelibResourceFactory<JsonObjectResource> {

    private int packFormat;
    private String description;

    public PackMcmetaFactory() {
        this.packFormat = 7;
        this.description = "Resource Pack generated by Celib Data Loader";
    }

    public void packFormat(int f) {
        this.packFormat = f;
    }

    public void description(String d) {
        this.description = d;
    }

    @Override
    public JsonObjectResource createResource() {
        final JsonObject json = new JsonObject();
        final JsonObject pack = new JsonObject();
        pack.addProperty("pack_format", this.packFormat);
        pack.addProperty("description", this.description);
        json.add("pack", pack);
        return () -> json;
    }
}
